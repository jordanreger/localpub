<form id="form">
  <input type="email" id="form-email" placeholder="email" required />
  <br/>
  <input type="password" id="form-password" placeholder="password" minlength="6" required />
  <br/>
  <input type="submit" />
</form>

<script>
  const form = document.getElementById("form");
  form.onsubmit = (e) => {
    e.preventDefault();
    const email = e.target.children[0].value, password = e.target.children[2].value;

    fetch("/register-auth", { method: "POST", body: JSON.stringify({ "email": email, "password": password })})
      .then(res => res.json())
      .then(res => {
        if(res.user) {
          localStorage.setItem("access_token", res.session.access_token);
          localStorage.setItem("refresh_token", res.session.refresh_token);
          window.location.replace(`/app`)
        }
      })
  }
</script>